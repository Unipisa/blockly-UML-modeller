<!DOCTYPE html>
 <html>
   <head>
     <meta charset="utf-8" />
     <title>Blockly ModeLLer</title>
   <script defer src="bundle.js"></script></head>
   <body>
    <div id="pageContainer">
      <div id="blocklyDiv">

        <input id="customTitle" type='text' placeholder='Your diagram...' style="font-family: Helvetica"/>

        <!-- h3 style="font-family: Helvetica", id="codeTitle">Schema Blockly per modello UML</h3 -->
      </div>
      <div id="outputPane">
        <h3 style="font-family: Helvetica", id="codeTitle">Xmi code for UML model</h3>
        <pre id="generatedCode"><code id="xmiCode"></code></pre>
        <h3 style="font-family: Helvetica", id="reportTitle">Text report</h3>
        <div id="schemeReport">
          <div id="headTxtReport">Text report for your diagram /* TODO */
            <!-- script type="text/javascript">
              var headTxtReport = document.getElementById("headTxtReport");
              headTxtReport.innerText = document.getElementById("customTitle").value;
            </script -->
          </div>
        </div>
        <div id="buttonArea">
          <!--
          <button id="copyButton" class="button-13" onclick="copyCode('xmiCode')">Copy code</button>
          <script type="application/javascript">
            function copyCode(code) {
              navigator.clipboard.writeText(document.getElementById(code).innerText);
              alert("Codice copiato");
            }
          </script>
          -->
          <button id="downloadButton" class="button-13" onclick="downloadFile()">Download .xmi file</button>
          <script>
            const downloadFile = () => {
              const link = document.createElement("a");
              const content = document.getElementById("xmiCode").innerText;
              const file = new Blob([content], { type: 'text/xml' });
              link.href = URL.createObjectURL(file);
              link.download = "UML_model.xmi";
              link.click();
              URL.revokeObjectURL(link.href);
            };
          </script>
          <button id="downloadButton" class="button-13" onclick="">Download report</button>          
        </div>
        <div id="output"></div>
      </div>
    </div>    
   </body>
 </html>